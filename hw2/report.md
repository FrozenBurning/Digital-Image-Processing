# 数图小作业二

陈昭熹 2017011552

## 题目一

&emsp;&emsp;设计函数滤出指定路径下的JPG文件，并且对其批量加高斯噪声，并做同步显示。这个题目旨在熟练matlab基本的图像操作，按照题目步骤一步步予以实现即可。最终效果如下：

![图片1](hw2-1.png)

![图片2](hw2-2.png)

## 题目二

&emsp;&emsp;实现九宫格配图我选择了方案二并且实现了选做任务。

### 方案二的实现

&emsp;&emsp;读取目标图片和蒙版后，首先对图片进行裁剪。由于微信朋友圈发出来整体是正方形的效果，因此需要将目标图片裁剪成正方形。为了不影响长宽比，直接采用以中垂线为轴，以图片较短边为约束，将多余边缘部分裁剪掉，生成以原较短边为边长的正方形图片。此时依照这一尺寸将蒙版直接进行resize（此时不必考虑蒙版的比例不变形）。

&emsp;&emsp;图片预处理完成后，直接利用蒙版的像素特征，将黑色像素部分对应到目标图片中的位置像素值置为[255,255,255]白色即可。

&emsp;&emsp;最终效果如下（由于选做任务发了票圈，这个就不发了，只放效果图）：
![方案二九宫格](方案二.jpg)

### 选做任务

&emsp;&emsp;选做任务我提供了两个方案。

#### 选做方案1(sudoku.m)

使用自定义的清华校徽模板，图源来自网络。在未使用PS对原始蒙版图片做处理的情况下，首先将蒙版上的紫色部分对应目标图上的像素值置为白色，在判断时，将紫色像素的判断设置范围较大，实现了一定的滤波效果，能够将校徽文字和图案紧邻周边的毛刺减少很多。此时会发现图片边缘未受到校徽边缘的限制而扩展了出去。为了免于使用图像处理软件将校徽边缘抠出，并将边缘外的部分置为黑色以便于作蒙版，我在matlab采用坐标位置判断的逻辑，通过计算边缘像素点到中心点的距离来判断其是否在校徽边沿外，从而实现不基于像素值而是位置的精确蒙版控制。

&emsp;&emsp;最终效果如下：
![选做方案1](选做效果图.jpg)


#### 选做方案2(sudoku_allimage.m)

&emsp;&emsp;使用蒙版同上，但是读取了题目二所提供的全部照片，并且通过拷贝复制扩充为36张照片的图片集。通过mat2cell函数完成了以mask为尺寸基础将图片划分为36个block，每一个block按照长宽比不变的原则填充图片集中的一张图片，最终再将36个block通过cell2mat函数合并为一张图片，再通过蒙版进行像素处理，最终效果如下：（这张就没发pyq了，一次作业发三次pyq感觉不太妥当）
![选做方案2](选做方案2.jpg)
