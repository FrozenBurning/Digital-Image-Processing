# 数图小作业四

2017011552 陈昭熹

## 题目一——Matlab合成四张图像

### 合成图像
四种图像编写函数如下，实现上没有什么特殊之处，均通过meshgrid对二维坐标遍历进行向量化，然后直接使用公式生成对应矩阵。值得注意的是矩形图像在有旋转角度的时候，边缘会出现锯齿，这是由于256x256的图像过小导致的。下面给出相应函数对应的文件。
#### 脉冲函数(impulse2D.m)

#### 二维正弦波(sine2D.m)

#### 矩形图像(rectangle2D.m)

#### 二维高斯图像(gauss.m)

### 2D-DFT实现

原始二维DFT存在四重循环，本文实现中采用矩阵化表示，从而将四重循环化作三个矩阵相乘的形式，大大提高了计算速度。对于本题中256x256的图像，可以达到与fft媲美的计算速度，基本上是秒出结果。 

值得注意的是，在变换脉冲函数和高斯函数的时候，由于变换后的频域矩阵中的值都相对较小，取完对数后都在$10^{-10}$以下的量级，会导致保留不了细节的周期性信息，但是fft库函数却可以保留到$10^{-16}$的细节信息，以至于其变换脉冲函数的幅度谱仍能看出周期性。这一问题不知道库函数是如何实现的，DFT暂时无法解决。

### GUI使用

打开GUI，在左侧选框内选择所需函数，并且在下面的参数滑块区设置对应参数，点击开始即可生成对应图像、幅度谱和相位谱。

GUI使用Matlab的App Designer开发，助教可以直接使用Matlab中App一栏中的安装应用，选择.mlappinstall文件来直接安装本GUI应用。

## 题目二——在图片中寻找特征图像
使用fft2函数进行变换，并且通过fftshift移动到中心，最后幅度谱显示log(abs())幅度。
### 人物图片
![1](dubl.jpg)
#### 脉冲
一般图片中的脉冲都不符合严格意义上的脉冲，并不是只有一个像素点值为1，其他为0。往往是存在一个较高值像素，背景也不完全是黑色的，其实更像是一个高斯函数。

原图像
![2](dubl_impulse.jpg)
FFT幅度谱
![3](d_impulse_fft.png)

#### 矩形
矩形图像往往在适当的位置能够找到，其幅度谱可以看清楚清晰地光亮十字pattern，但是不像是典型的矩形图像有更多的高频成分，一般的彩色图像灰度化之后，往往不会有梯度分明的边缘，这也与图像分辨率有关，导致其幅度谱高频成分比合成的矩形图像要少得多。

原图像
![](dubl_rect.jpg)
FFT幅度谱
![](d_rect_fft.png)

#### 正弦
这张图中没有十分合适的正弦图像，原本的彩色图像地面是木质地板，有清晰地条纹纹理，但是灰度化之后没有明显的梯度区分，因此没有选用。可以看到其幅度谱与合成的正弦函数相似在于较高值存在于水平和竖直两个轴上。但其其他方向上的频率成分是源于原图并非标准正弦，而是频率在不断变化的，且边缘并不清晰的图片。

原图像
![](dubl_sine.jpg)
FFT幅度谱
![](d_sine_fft.png)
#### 高斯
这张图片里的高斯其实相当于缺了一个方向，可以看到其幅度谱仍呈现出高斯的特征，在水平和垂直方向的频率分量从低频到高频分布。而原图中水平方向有光柱射出，相当于这一方向上的高斯并不是严格的高斯分布，其高频成分相应减少（因为基本都是白的了），对应到幅度谱中就是竖直方向上的频率分量高频成分减少。这一张图虽然不是典型的高斯，但是较好的反映了空域与频域的二维对应关系。

原图像
![](dubl_gauss.jpg)
FFT幅度谱
![](d_guass_fft.png)


### 风景图片
![](tide.jpg)
#### 脉冲
这张图像看上去是脉冲，但是实际上其背景是灰的，并非0像素，且存在波纹噪声，因此还是更像一个高斯。但是其幅度谱上低频到高频的分布更广。

原图像
![](tide_impulse.jpg)
FFT幅度谱
![](tide_impulse_fft.png)
#### 矩形
较为典型的矩形图像，幅度谱也符合预期。

原图像
![](tide_rect.jpg)
FFT幅度谱
![](tide_rect_fft.png)
#### 正弦
作为一张典型的有角度正弦图像，其频率幅度谱除了由于模糊带来的平滑外，可以看到一个明显的垂直于空域角度的频率分量，较好的体现了正弦图像的空域频域对应关系。

原图像
![](tide_sine.jpg)
FFT幅度谱
![](tide_sine_fft.png)
#### 高斯
方差较大的高斯图像，体现到频域中间就是频率集中到低频成分，产生亮点。

原图像
![](tide_guass.jpg)
FFT幅度谱
![](tide_gauss_fft.png)
### 建筑图片
![](gray_milan.jpg)

#### 脉冲

原图像
![](milan_impulse.jpg)
FFT幅度谱
![](milan_impulse_fft.png)
#### 矩形
较为典型的矩形图像，可以明显看到水平竖直两个方向上的频率分量。

原图像
![](milan_rect.jpg)
FFT幅度谱
![](milan_rect_fft.png)
#### 正弦
这个图像比较像标准的水平正弦图像，其幅度谱也基本能看出与标准正弦的幅度谱相似，存在对称与中心的两个频率最大值，且在水平方向上向高频延伸。

原图像
![](milan_sine.jpg)
FFT幅度谱
![](milan_sine.png)
#### 高斯
典型的高斯图像

原图像
![](milan_gauss.jpg)
FFT幅度谱
![](milan_gauss_fft.png)